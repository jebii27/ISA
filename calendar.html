<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Basketball Facility Booking</title>
    <link rel="stylesheet" href="styles.css" />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css"
    />
    <style>
      body {
        font-family: Arial, sans-serif;
        background-color: #f4f4f4;
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100vh;
      }
      .container {
        background: #fff;
        padding: 20px;
        border-radius: 10px;
        box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.1);
        text-align: center;
        height: 70vh;
      }
      h2 {
        color: #333;
      }
      .month-navigation {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 10px;
      }
      .nav-btn {
        background: none;
        border: none;
        font-size: 24px;
        cursor: pointer;
        color: #333;
      }
      .nav-btn:hover {
        color: #28a745;
      }
      .weekdays {
        display: grid;
        grid-template-columns: repeat(7, 1fr);
        font-weight: bold;
        margin-top: 20px;
      }
      .calendar {
        display: grid;
        grid-template-columns: repeat(7, 1fr);
        gap: 5px;
        margin: 20px 0;
      }
      .day {
        padding: 15px;
        background: #ddd;
        text-align: center;
        border-radius: 5px;
        cursor: pointer;
      }
      .day.booked {
        background: #4b4a49;
        color: white;
        cursor: not-allowed;
      }
      .day.active {
        background: #064e3b;
        color: white;
      }
      .day:hover:not(.booked) {
        background: #064e3b;
        color: white;
      }
      .time-picker-container {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-top: 10px;
      }
      .time-picker {
        flex: 1;
        margin: 0 5px;
        padding: 10px;
        border: 1px solid #ccc;
        border-radius: 5px;
      }

      .reserve-btn {
        margin-top: 10px;
        padding: 10px;
        width: 100%;
        border: 1px solid #ccc;
        border-radius: 5px;
      }
      .reserve-btn {
        background: #28a745;
        color: white;
        cursor: pointer;
        font-size: 16px;
        transition: background 0.3s;
      }
      .reserve-btn:hover {
        background: #218838;
      }
      #message {
        margin-top: 15px;
        font-weight: bold;
        color: #d9534f;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <h2>Basketball Facility Booking</h2>
      <div class="month-navigation">
        <button class="nav-btn" onclick="changeMonth(-1)">
          <i class="bi bi-chevron-left"></i>
        </button>
        <div id="month-year"></div>
        <button class="nav-btn" onclick="changeMonth(1)">
          <i class="bi bi-chevron-right"></i>
        </button>
      </div>
      <div class="weekdays">
        <div>Mon</div>
        <div>Tue</div>
        <div>Wed</div>
        <div>Thu</div>
        <div>Fri</div>
        <div>Sat</div>
        <div>Sun</div>
      </div>
      <div class="calendar" id="calendar"></div>

      <label for="time">Select Time Range:</label>
      <div class="time-picker-container">
        <select id="start-time" class="time-picker">
          <option value="9:00 AM">9:00 AM</option>
          <option value="11:00 AM">11:00 AM</option>
          <option value="1:00 PM">1:00 PM</option>
          <option value="3:00 PM">3:00 PM</option>
          <option value="5:00 PM">5:00 PM</option>
        </select>
        <span>to</span>
        <select id="end-time" class="time-picker">
          <option value="10:00 AM">10:00 AM</option>
          <option value="12:00 PM">12:00 PM</option>
          <option value="2:00 PM">2:00 PM</option>
          <option value="4:00 PM">4:00 PM</option>
          <option value="6:00 PM">6:00 PM</option>
        </select>
      </div>

      <button class="reserve-btn" id="book">Reserve</button>
      <p id="message"></p>
    </div>

    <script>
      const bookedDates = ["2025-02-22", "2025-02-24"]; // Example unavailable dates
      let currentYear = new Date().getFullYear();
      let currentMonth = new Date().getMonth();
      const calendar = document.getElementById("calendar");
      const monthYear = document.getElementById("month-year");
      const monthNames = [
        "January",
        "February",
        "March",
        "April",
        "May",
        "June",
        "July",
        "August",
        "September",
        "October",
        "November",
        "December",
      ];

      function generateCalendar(year, month) {
        monthYear.textContent = `${monthNames[month]} ${year}`;
        calendar.innerHTML = "";

        const firstDay = new Date(year, month, 1).getDay();
        const daysInMonth = new Date(year, month + 1, 0).getDate();

        for (let i = 0; i < (firstDay === 0 ? 6 : firstDay - 1); i++) {
          const emptyCell = document.createElement("div");
          emptyCell.classList.add("day");
          emptyCell.style.visibility = "hidden";
          calendar.appendChild(emptyCell);
        }

        for (let day = 1; day <= daysInMonth; day++) {
          const date = `${year}-${(month + 1).toString().padStart(2, "0")}-${day
            .toString()
            .padStart(2, "0")}`;
          const dayElement = document.createElement("div");
          dayElement.classList.add("day");
          dayElement.textContent = day;

          if (bookedDates.includes(date)) {
            dayElement.classList.add("booked");
          } else {
            dayElement.addEventListener("click", () => {
              if (dayElement.classList.contains("active")) {
                dayElement.classList.remove("active");
                document.getElementById("message").textContent = "";
              } else {
                document
                  .querySelectorAll(".day.active")
                  .forEach((el) => el.classList.remove("active"));
                dayElement.classList.add("active");
                document.getElementById(
                  "message"
                ).textContent = `Selected Date: ${date}`;
              }
            });
          }
          calendar.appendChild(dayElement);
        }
      }

      function changeMonth(step) {
        currentMonth += step;
        if (currentMonth < 0) {
          currentMonth = 11;
          currentYear--;
        } else if (currentMonth > 11) {
          currentMonth = 0;
          currentYear++;
        }
        generateCalendar(currentYear, currentMonth);
      }

      generateCalendar(currentYear, currentMonth);
    </script>
  </body>
</html>
